Version 4
SHEET 1 2996 916
WIRE 880 -448 112 -448
WIRE 1008 -448 880 -448
WIRE 1344 -448 1008 -448
WIRE 880 -432 880 -448
WIRE 1776 -400 1616 -400
WIRE 1008 -368 1008 -448
WIRE 880 -352 880 -368
WIRE 1344 -352 1344 -448
WIRE 1344 -352 1280 -352
WIRE 1776 -352 1776 -400
WIRE 1280 -304 1280 -352
WIRE 880 -256 880 -272
WIRE 1008 -256 1008 -288
WIRE 1008 -256 880 -256
WIRE 1152 -256 1008 -256
WIRE 1216 -256 1152 -256
WIRE 1616 -240 1616 -400
WIRE 1776 -240 1776 -272
WIRE 1344 -208 1344 -352
WIRE 1280 -160 1280 -208
WIRE 112 -80 112 -448
WIRE 1152 -80 1152 -256
WIRE 1344 -32 1344 -112
WIRE 1344 -32 1216 -32
WIRE 880 -16 880 -256
WIRE 1008 -16 1008 -256
WIRE 1344 0 1344 -32
WIRE 112 48 112 0
WIRE 1008 80 1008 48
WIRE 880 176 880 64
WIRE 1008 176 1008 160
WIRE 1008 176 880 176
WIRE 1152 176 1152 16
WIRE 1152 176 1008 176
WIRE 1344 176 1344 80
WIRE 1344 176 1152 176
WIRE 1408 176 1344 176
WIRE 1552 176 1472 176
WIRE 1616 176 1616 -176
WIRE 1616 176 1552 176
WIRE 1648 176 1616 176
WIRE 1696 176 1648 176
WIRE 1552 224 1552 176
WIRE 1696 224 1696 176
WIRE 1552 336 1552 288
WIRE 1696 336 1696 288
WIRE 1696 336 1552 336
WIRE 1552 432 1552 336
FLAG 112 48 0
FLAG 1552 432 0
FLAG 1648 176 out
FLAG 1776 -240 0
SYMBOL voltage 112 -96 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 15 1k)
SYMBOL cap 1536 224 R0
SYMATTR InstName C1
SYMATTR Value 1000µ
SYMBOL cap 1024 -16 M0
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL npn 1216 -304 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL res 1328 -16 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL npn 1216 -80 M0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 992 -384 R0
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res 896 -32 M0
SYMATTR InstName R3
SYMATTR Value 330k
SYMBOL res 992 64 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL zener 896 -368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value STZ5_6N
SYMBOL res 864 -368 R0
SYMATTR InstName R5
SYMATTR Value 20k
SYMBOL load 1680 224 R0
WINDOW 123 48 112 Left 2
WINDOW 39 48 84 Left 2
SYMATTR InstName I1
SYMATTR Value SINE(20m 5m 10)
SYMATTR Value2 AC 1
SYMATTR SpiceLine load
SYMBOL npn 1280 -208 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL schottky 1408 192 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMBOL schottky 1600 -240 R0
SYMATTR InstName D3
SYMATTR Value 1N5819
SYMBOL voltage 1776 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
TEXT 72 840 Left 2 !.tran 1 startup
TEXT -48 632 Left 2 !.lib opamp.sub
TEXT -8 488 Left 2 ;.ac oct 10 1m 20k
TEXT -112 312 Left 2 !.param C=100u
TEXT -152 392 Left 2 ;.step dec param R .1 100 3
